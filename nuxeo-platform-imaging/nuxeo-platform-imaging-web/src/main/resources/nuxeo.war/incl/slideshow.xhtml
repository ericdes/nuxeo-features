<div xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:nxd="http://nuxeo.org/nxweb/document"
  xmlns:nxh="http://nuxeo.org/nxweb/html"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:s="http://jboss.com/products/seam/taglib"><a4j:region>
  <h:form id="slideshow">

    <a4j:poll interval="#{currentDocument.picturebook.timeinterval * 1000}" reRender="slideshow"
      action="#{slideShowManager.incIndex}"
      rendered="#{slideShowManager.childrenSize >slideShowManager.index}" />

    <h3><h:outputText
      value="#{slideShowManager.child.title}" /></h3>

    <div class="slideshowContent">
    <nxd:restDocumentLink
      document="#{slideShowManager.child}"
      tab="tab_imageview">
<div style="width: 200px;height: 200px;" >
<div id="apear-div" style="display: none;" >
  <f:subview rendered="#{slideShowManager.child.type eq 'PictureBook'}">
      <img onload="Effect.Appear('apear-div');"
        src="icons/big_picturebook.png" height="200" width="200" />
  </f:subview>
  <f:subview  rendered="#{slideShowManager.child.type eq 'Picture'}">
      <img onload="Effect.Appear('apear-div');"
        src="#{nxd:fileUrl('downloadPicture', slideShowManager.child, 'Medium:content', slideShowManager.child.dublincore.modified)}"  />
  </f:subview>
</div></div>
    </nxd:restDocumentLink>



    <h3><h:outputText
      value="#{slideShowManager.index}/#{slideShowManager.childrenSize}" /></h3>



    <div class="slideShowControl">

       <a4j:commandButton styleClass="button" image="icons/page_first.gif"
      action="#{slideShowManager.firstPic}"  reRender="slideshow"
      disabled="#{slideShowManager.index == 1}"  />
    <a4j:commandButton styleClass="button"
      image="icons/page_previous.gif"
      action="#{slideShowManager.decIndex}" reRender="slideshow"
      disabled="#{slideShowManager.index == 1}" />

    <h:inputText value="#{slideShowManager.index}" size="7" styleClass="indexPicture">
      <a4j:support event="onkeyup" reRender="slideshow"
        actionListener="#{slideShowManager.inputValidation}" />
    </h:inputText>

    <a4j:commandButton styleClass="button"
      image="icons/page_next.gif"
      action="#{slideShowManager.incIndex}" reRender="slideshow"
      disabled="#{slideShowManager.childrenSize == slideShowManager.index}" />
    <a4j:commandButton styleClass="button"
      image="icons/page_last.gif"
      action="#{slideShowManager.lastPic}"  reRender="slideshow"
      disabled="#{slideShowManager.childrenSize  == slideShowManager.index}" />
    </div>
    </div>

  </h:form>
</a4j:region></div>